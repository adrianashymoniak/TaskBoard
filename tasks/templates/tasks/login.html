{% extends 'tasks/base.html' %}


{% if user.is_authenticated %}
{% block body %}
<p>You are already logged in. Please go to <a href="{% url 'home' %}">Home Page!</a></p>
{% endblock %}
{% else %}
{% block title %} Login {% endblock %}
{% block content %}
<div class="alignment">
    <h2>Login</h2>
    <form method='post' autocomplete="off">
        {% csrf_token %}
        <div class="username">
            <input autocomplete="off" class="form-control" type="text" name="username" autofocus="" maxlength="254" id="id_username"
                   placeholder="Username" required="">
        </div>
        <div class="password">
            <input autocomplete="off" class="form-control" type="password" name="password" id="id_password"
                   placeholder="Password" required="">
        </div>
        <button id="login_btn" type="submit" class="btn btn-primary">Login</button><br><br>
        <div class="error_message">
        {% if form.errors %}
            {% for field in form %}
                {% for error in field.errors %}
                    <div class="alert alert-danger fade in">
                        <a href="#" class="close" data-dismiss="alert">&times;</a>
                        <strong>{{ error|escape }}</strong>
                    </div>
                {% endfor %}
            {% endfor %}
            {% for error in form.non_field_errors %}
                <div class="alert alert-danger fade in">
                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                    <strong>{{ error|escape }}</strong>
                </div>
            {% endfor %}
        {% endif %}
        </div>
    </form>
<a href="password_reset">Reset password</a>
</div>
{% endblock %}
{% endif %}
